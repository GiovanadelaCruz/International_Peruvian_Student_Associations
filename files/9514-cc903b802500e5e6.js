(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9514],{85401:(e,n,i)=>{"use strict";i.d(n,{G:()=>d});var l=i(14041),t=i(73893),r=i(10458),s=i(7441);let d=()=>{let e=(0,l.useRef)(!1),n=(0,l.useRef)(new Map);(0,l.useEffect)(()=>{if("production"!==t.$.APPLICATION_ENVIRONMENT)return;let i=()=>{if(e.current)return;let i=n.current.get("total"),l=n.current.get("notTrusted");l/i>.5&&i>5&&(e.current=!0,s.z.track(r.ng.NOT_TRUSTED_EVENTS_DETECTED,{totalEvents:i,notTrustedEvents:l}))},l=e=>{e.isTrusted||n.current.set("notTrusted",(n.current.get("notTrusted")||0)+1),n.current.set("total",(n.current.get("total")||0)+1),i()};return document.addEventListener("paste",l,{capture:!0}),document.addEventListener("mousedown",l,{capture:!0}),document.addEventListener("keydown",l,{capture:!0}),()=>{document.removeEventListener("paste",l,{capture:!0}),document.removeEventListener("mousedown",l,{capture:!0}),document.removeEventListener("keydown",l,{capture:!0})}},[])}},88304:(e,n,i)=>{"use strict";i.d(n,{D:()=>s});var l=i(44507),t=i(92667),r=i(30503);let s=()=>{let e=!(0,l.rA)()&&!(0,r.NF)();return(0,t.WM)(e,'\n!function(w,d,i,s){function l(){if(!d.getElementById(i)){var f=d.getElementsByTagName(s)[0],e=d.createElement(s);e.type="text/javascript",e.async=!0,e.src="https://canny.io/sdk.js",f.parentNode.insertBefore(e,f)}}if("function"!=typeof w.Canny){var c=function(){c.q.push(arguments)};c.q=[],w.Canny=c,"complete"===d.readyState?l():w.attachEvent?w.attachEvent("onload",l):w.addEventListener("load",l,!1)}}(window,document,"canny-jssdk","script");\n'),null}},42457:(e,n,i)=>{"use strict";i.d(n,{Z:()=>p});var l=i(31085),t=i(93722),r=i(78458),s=i(9104),d=i(14041),o=i(42948),a=i(83073),c=i(14729);let u=(e,n)=>{if(e.globalToast)return;let i=(0,c.J)({theme:n});e.globalToast=i},p=e=>{let{children:n}=e,i=(0,a.O)(),c=o.zd[i],p=(null==c?void 0:c.rtl)===!0?"rtl":"ltr",g=(0,d.useMemo)(()=>(0,t.oY)(s.Ip,{direction:p,styles:{global:{".ProseMirror":{outline:"0 none"}}}}),[p]);return(0,d.useEffect)(()=>{u(window,g)},[]),(0,l.jsx)(r.s,{toastOptions:s.S1,theme:g,resetCSS:!0,children:n})}},26253:(e,n,i)=>{"use strict";i.d(n,{XE:()=>b,zE:()=>C,yf:()=>E});var l=i(14041),t=i(73893),r=i(79430),s=i(35002),d=i(83073),o=i(43006),a=i(78821),c=i(10458),u=i(57882),p=i(44507),g=i(59591),h=i(30503),x=i(12327),v=i(56005),m=i.n(v),y=i(39286);let j=(e,n)=>{let i=m()(n);return{[e]:{next:x.Ru._({id:"hXzOVo"}),back:x.Ru._({id:"iH8pgl"}),nevermind:x.Ru._({id:"CKyk7Q"}),goToAccount:x.Ru._({id:"C9yTHG",values:{GAMMA_PROPER_NOUN:y.On}}),getHelp:x.Ru._({id:"pWsyuL"}),declineOffer:x.Ru._({id:"aIFikE"}),confirmAndCancel:x.Ru._({id:"G9nPRC"}),pauseSubscription:x.Ru._({id:"2RgEmU"}),cancelSubscription:x.Ru._({id:"dEgA5A"}),discountSubscription:x.Ru._({id:"qG4Wa/"}),claimOffer:x.Ru._({id:"/Gl/RK"}),discountOff:x.Ru._({id:"Bdtwnw"}),discountFor:x.Ru._({id:"sQv06Y"}),discountForever:x.Ru._({id:"FsOOWf"}),discountOneTime:x.Ru._({id:"HpXCa4"}),day:x.Ru._({id:"5YWExy"}),month:x.Ru._({id:"obrMay"}),year:x.Ru._({id:"/Tw548"}),error:x.Ru._({id:"wTrpxV"}),genericErrorDescription:x.Ru._({id:"PUjJ3A"}),cancelNow:x.Ru._({id:"EiakwV"}),applyingDiscount:x.Ru._({id:"8kSYjw"}),applyingCancel:x.Ru._({id:"VpuvNv"}),applyingResume:x.Ru._({id:"eIoGiX"}),applyingPause:x.Ru._({id:"UD7gOq"}),discountApplied:x.Ru._({id:"jdYyiz"}),discountAppliedMessage:x.Ru._({id:"DhHX6G"}),pauseApplied:x.Ru._({id:"eeITvj"}),pauseAppliedMessage:x.Ru._({id:"nm0VaE"}),pauseAppliedResumeMessage:x.Ru._({id:"qOe0SS"}),pauseScheduledMessage:x.Ru._({id:"mqRc6d"}),until:x.Ru._({id:"C51N+0"}),cancelApplied:x.Ru._({id:"Wcg6zu"}),cancelAppliedMessage:x.Ru._({id:"8vN97Y"}),cancelAppliedDateMessage:x.Ru._({id:"BS/SGu"}),howLongToPausePrompt:x.Ru._({id:"HLyJ9n"}),whatCouldWeHaveDone:x.Ru._({id:"fcbm8H"}),weReadEveryAnswer:x.Ru._({id:"nkuKRd"}),applyingCustomerAction:x.Ru._({id:"PXwF+s"}),loading:x.Ru._({id:"Z3FXyt"}),pauseWallCardPunch:x.Ru._({id:"iL2TQ6"}),pauseWallCta:x.Ru._({id:"TvXj47"}),pauseWallCardHeading:x.Ru._({id:"kHm8Fg"}),scheduledToReactivate:x.Ru._({id:"aH7vi8"}),resumeApplied:x.Ru._({id:"diOgYK"}),resumeAppliedMessage:x.Ru._({id:"YqFvUY"}),resumeNextChargeMessage:x.Ru._({id:"VDqPUf"}),resumeNextChargeMessageWithoutAmount:x.Ru._({id:"RrvVAn"}),resumeAccountDataInfo:x.Ru._({id:"dJCJXA"}),subscriptionPauseNotice:x.Ru._({id:"fpxliT"}),failedPaymentNotice:x.Ru._({id:"Vxg5vO"}),chargedMultipleTimeNotice:x.Ru._({id:"lAlv46"}),failedPaymentCardPunch:x.Ru._({id:"KEZrHg",values:{GAMMA_PROPER_NOUN:y.On,productName:i}}),resumeHey:x.Ru._({id:"hdOctW"}),invoicePaidTitle:x.Ru._({id:"aJGfDL"}),logout:x.Ru._({id:"W+3RJN"}),note:x.Ru._({id:"ycCSuD"}),discount:x.Ru._({id:"HmpVeZ"}),discountNoticeHeadline:x.Ru._({id:"5P1dmt"}),discountNoticePrepend:x.Ru._({id:"yjadEY"}),discountOverride:x.Ru._({id:"JfBDWL"}),discountValidUntil:x.Ru._({id:"uXxNua"}),updateBilling:x.Ru._({id:"tQilrI"}),extendTrialCTA:x.Ru._({id:"m3l7VI"}),extendTrialPunch:x.Ru._({id:"s5pINo"}),extendTrialOfferTitle:x.Ru._({id:"SyzXYh"}),trialExtended:x.Ru._({id:"fezME2"}),trialExtendedMessage:x.Ru._({id:"QE4mUs"}),applyingTrialExtension:x.Ru._({id:"vI2q9R"}),switchPlanCTA:x.Ru._({id:"P2mx2L"}),changePlanHighlights:x.Ru._({id:"qbgW+C"}),changePlanOfferPunch:x.Ru._({id:"MRkiFP"}),planChanged:x.Ru._({id:"ByFtyh"}),planChangedMessage:x.Ru._({id:"Pf5z1G"}),applyingPlanChange:x.Ru._({id:"9vKKLI"}),surveyStepTag:x.Ru._({id:"cSUBI1"}),freeFormStepTag:x.Ru._({id:"cSUBI1"}),finalConfirmation:x.Ru._({id:"1/oP/N"}),offerDiscountTag:x.Ru._({id:"LTgtxG"}),offerChangePlanTag:x.Ru._({id:"ENMJv2"}),offerExtendTrialTag:x.Ru._({id:"MWKntz"}),offerRedirectTag:x.Ru._({id:"cvpAvL"}),offerContactTag:x.Ru._({id:"cvpAvL"}),offerPauseTag:x.Ru._({id:"+T6DGl"}),completeTag:x.Ru._({id:"K5c1e7"}),errorTag:x.Ru._({id:"EuvbIW"}),offerAccepted:x.Ru._({id:"ZU0opP"})}}},f="\n!function(){  \n    if (!window.churnkey || !window.churnkey.created) {\n      window.churnkey = { created: true };\n      const a = document.createElement('script');\n      a.src = 'https://assets.churnkey.co/js/app.js?appId=".concat(t.$.CHURNKEY_APP_ID,"';\n      a.async = true;\n      const b = document.getElementsByTagName('script')[0];\n      b.parentNode.insertBefore(a, b);\n    }\n  }();\n"),b=()=>{let e=!(0,p.rA)()&&!(0,h.NF)();return(0,g.W)(e,f),null},E=e=>{var n;let{subscription:i,workspace:c,autoLaunch:p=!0}=e,{user:g}=(0,u.ur)(),h=(0,s.u)("churnkeyFailedPaymentWallEnabled"),x=(0,d.O)(),v=(0,a.A4)(c),m=(0,o.k)(),y=h&&(null==g?void 0:g.id)===(null==i?void 0:null===(n=i.createdByUser)||void 0===n?void 0:n.id),j=(0,l.useCallback)(async()=>{if(i&&v&&y)return(0,r.yg)("churnkey").then(e=>{var n,l;if(!e||!i.billingSubscriptionId||!(null===(n=i.createdByUser)||void 0===n?void 0:n.billingCustomerId)){console.error("[Churnkey] launchFailedPayment Missing hmac or subscription data",{hmac:e,subscription:i});return}console.debug("[Churnkey] launchFailedPayment - launching churnkey with:",{hmac:e,appId:t.$.CHURNKEY_APP_ID,subscriptionId:i.billingSubscriptionId,customerId:null===(l=i.createdByUser)||void 0===l?void 0:l.billingCustomerId}),w({authHash:e,subscription:i,localeKey:x,productKey:v,launchIntercomUI:m})})},[i,v,y,x,m]);return(0,l.useEffect)(()=>{p&&j()},[j,p]),{launchFailedPaymentFlow:j,failedPaymentFlowEnabled:y}},w=async e=>{var n,i;let{authHash:l,subscription:r,localeKey:s,productKey:d,launchIntercomUI:o}=e;null===(i=window.churnkey)||void 0===i||i.check("failed-payment",{subscriptionId:r.billingSubscriptionId,customerId:null===(n=r.createdByUser)||void 0===n?void 0:n.billingCustomerId,authHash:l,customerAttributes:{language:s},i18n:{lang:s,messages:j(s,d)},appId:t.$.CHURNKEY_APP_ID,mode:t.$.CHURNKEY_MODE,provider:"stripe",softWall:!0,forceCheck:!1,gracePeriodDays:3,ignoreInvoicesWithoutAttempt:!1,handleSupportRequest(){var e;o(),c.zS.track(c.VV.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},async handleCancel(e){var n,i;return c.zS.track(c.VV.CANCEL_SUBSCRIPTION_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(n=r.createdByUser)||void 0===n?void 0:n.billingCustomerId}),console.debug("[launchChurnkeyFailedPayment.handleCancel]",{subscriptionId:r.billingSubscriptionId,customerId:null===(i=r.createdByUser)||void 0===i?void 0:i.billingCustomerId,customer:e}),_({authHash:l,subscription:r,localeKey:s,productKey:d,launchIntercomUI:o,customerAttributes:{viaFailedPayment:!0}}).catch(e=>w({authHash:l,subscription:r,localeKey:s,productKey:d,launchIntercomUI:o}))},onFailedPaymentWallActivated(){var e;c.zS.track(c.VV.CHURNKEY_FAILED_PAYMENT_WALL_SHOWN,{subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onUpdatePaymentInformation(){var e;c.zS.track(c.VV.CHURNKEY_PAYMENT_METHOD_UPDATED,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onFailedPaymentWallClose(){var e;c.zS.track(c.VV.CHURNKEY_FAILED_PAYMENT_WALL_CLOSED,{subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(){var e;c.zS.track(c.VV.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onError(e,n){console.warn('Churnkey check("failed-payment", ...) error',e,n)}})},C=(e,n)=>{let i=(0,s.u)("churnkeyCancelFlowEnabled"),t=(0,d.O)(),c=(0,a.A4)(n),u=(0,o.k)();return{launchCancelFlow:(0,l.useCallback)(()=>{if(e&&c&&i)return(0,r.yg)("churnkey").then(n=>{var i;if(!n||!e.billingSubscriptionId||!(null===(i=e.createdByUser)||void 0===i?void 0:i.billingCustomerId)){console.debug("[Churnkey] handleCancel - Missing hmac or subscription data",{hmac:n,subscription:e});return}return _({authHash:n,subscription:e,localeKey:t,productKey:c,launchIntercomUI:u})})},[i,t,c,e,u]),cancelFlowEnabled:i}},_=async e=>{let{authHash:n,subscription:i,localeKey:l,productKey:r,customerAttributes:s={},launchIntercomUI:d}=e;return new Promise((e,o)=>{var u,p,g;null===(g=window.churnkey)||void 0===g||g.init("show",{subscriptionId:i.billingSubscriptionId,customerId:null===(u=i.createdByUser)||void 0===u?void 0:u.billingCustomerId,authHash:n,customerAttributes:{language:l,frequency:null===(p=(0,a.ZJ)(i))||void 0===p?void 0:p.frequencyUnit,productKey:r,...s},i18n:{lang:l,messages:j(l,r)},appId:t.$.CHURNKEY_APP_ID,mode:t.$.CHURNKEY_MODE,provider:"stripe",record:!0,handleSupportRequest(){var e;d(),c.zS.track(c.VV.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"cancel-flow",subscriptionId:i.billingSubscriptionId,customerId:null===(e=i.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(e,n,l){var t;c.zS.track(c.VV.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"cancel-flow",subscriptionId:i.billingSubscriptionId,customerId:null===(t=i.createdByUser)||void 0===t?void 0:t.billingCustomerId,surveyResponse:n,freeformFeedback:l}),console.debug("[launchChurnkeyCancelFlow.onCancel]",{surveyResponse:n,freeformFeedback:l})},onGoToAccount(n){console.debug("[launchChurnkeyCancelFlow.onGoToAccount]",{sessionResults:n}),e({sessionResults:n})},onClose(n){if(console.debug("[launchChurnkeyCancelFlow.onClose]",{sessionResults:n}),!n||n.aborted){o("Churnkey cancel flow aborted");return}e({sessionResults:n})},onError(e){console.warn("[launchChurnkeyCancelFlow.onError]",{message:e}),o({message:e})}})})}},94072:(e,n,i)=>{"use strict";i.d(n,{r:()=>j});var l=i(31085),t=i(78141),r=i(2657),s=i.n(r),d=i(73893),o=i(83073),a=i(44507);let c="".concat("01919ef7-fdd5-72aa-8b3e-9a438906692f").concat("production"===d.$.APPLICATION_ENVIRONMENT?"":"-test"),u="https://cdn.cookielaw.org/consent/".concat(c,"/OtAutoBlock.js"),p="https://cdn.cookielaw.org/consent/".concat(c,"/otSDKStub.js"),g=()=>{let e=(0,o.O)(),n=!(0,a.rA)();return((0,t.w)(()=>{try{if(n){var i;null===(i=window.OneTrust)||void 0===i||i.changeLanguage(e)}}catch(e){}},[n,e]),n)?(0,l.jsxs)(s(),{children:[(0,l.jsx)("script",{id:"ot-autoblock",src:u}),(0,l.jsx)("script",{id:"ot-script",src:p,"data-domain-script":c}),(0,l.jsx)("script",{id:"ot-anon",dangerouslySetInnerHTML:{__html:"function OptanonWrapper() { }"}})]}):null};var h=i(92667),x=i(30503);let v=()=>{let e=!(0,a.rA)()&&!(0,x.NF)();return(0,h.En)()&&e?(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:'\x3c!-- Google Tag Manager (noscript) --\x3e\n<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TGJXRPT"\nheight="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>\n\x3c!-- End Google Tag Manager (noscript) --\x3e'}}):null},m=()=>{let e=!(0,a.rA)()&&!(0,x.NF)();return(0,h.En)()&&e?(0,l.jsxs)(s(),{children:[(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:"\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag(){dataLayer.push(arguments);}\ngtag('js', new Date());\n\ngtag('config', 'AW-11368900852');\n"}}),(0,l.jsx)("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=AW-11368900852"}),(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-TGJXRPT');\n"}})]}):null},y=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m,{}),(0,l.jsx)(v,{})]});function j(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i=>(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)(g,{}),(0,l.jsx)(y,{}),(0,l.jsx)(e,{...i})]})}},98692:(e,n,i)=>{"use strict";i.d(n,{Z:()=>s});var l=i(14041),t=i(83073),r=i(64130);let s=()=>{let e=(0,t.O)();(0,l.useEffect)(()=>{let n=(0,r.D8)(e);document.documentElement.setAttribute("lang",e),document.documentElement.setAttribute("dir",n?"rtl":"ltr")},[e])}},20879:(e,n,i)=>{"use strict";i.d(n,{FM:()=>g,Ts:()=>l.T});var l=i(27655),t=i(31085),r=i(73893),s=i(33854),d=i(64225),o=i(44507),a=i(92667),c=i(30503),u=i(39698);let p="\n(function(){var w=window;var ic=w.Intercom;if(typeof ic===\"function\"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/".concat(r.$.INTERCOM_APP_ID,"';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();\n"),g=()=>{let e=!(0,s.u)("zendesk")&&!(0,o.rA)()&&!(0,c.NF)();(0,a.WM)(e,p);let n=(0,d.GV)(u.w8);return(0,a.En)()&&e?(0,t.jsx)("style",{children:"\n       #intercom-container > div {\n         display: ".concat(n?"block":"none"," !important;\n       }\n       div.intercom-app .intercom-borderless-frame,\n       div.intercom-app .intercom-messenger-frame  {\n         transform: translateY(calc(").concat(n?"0px":"100% + 20px",")) !important;\n       }\n     ")}):null}},81106:(e,n,i)=>{"use strict";i.d(n,{zn:()=>v});var l=i(31085),t=i(31171),r=i(23903),s=i(80532),d=i(35789),o=i(56824),a=i(29568),c=i(25420),u=i(60674),p=i(88679);let g=(0,t.B)("div",{baseStyle:{w:"full",h:"full",rounded:"full",pos:"absolute",top:"0",right:"0",bottom:"0",left:"0"}}),h=(0,u.P)(g),x=e=>{let{getInputProps:n,getCheckboxProps:i,getLabelProps:t,state:a}=(0,r.z)(e);return(0,l.jsxs)(s.az,{as:"label",pos:"relative",...t(),children:[(0,l.jsx)("input",{...n()}),(0,l.jsx)(d.o,{...i(),cursor:"pointer",pos:"relative",zIndex:1,minH:"10",py:2,lineHeight:"1.2",fontSize:{base:"sm",md:"md"},px:"4",textAlign:"center",transition:"all 0.2s",minW:{base:"none",md:"10rem"},fontWeight:"medium",_checked:{fontWeight:"bold",color:"deepocean.950"},borderRadius:"full",_focus:{boxShadow:"var(--chakra-shadows-outline)",outline:"none"},children:e.children}),a.isChecked&&(0,l.jsx)(h,{pos:"absolute",bg:(0,o.dU)("trueblue.50","trueblue.900"),color:(0,o.dU)("trueblue.600","trueblue.200"),layoutId:"highlight",insetStart:0,insetEnd:0,top:0,bottom:0,borderRadius:"full",transition:{duration:.2}})]})},v=e=>{let{selectedBillingCycleKey:n,setSelectedBillingCycleKey:i,...t}=e,{getRadioProps:r,getRootProps:s}=(0,a.m)({defaultValue:n,onChange:e=>{i(e)}});return(0,l.jsx)(c.s,{pos:"relative",justifyContent:"center",alignItems:"center",children:(0,l.jsxs)(c.s,{display:"inline-flex",align:"center",bg:(0,o.dU)("white","gray.700"),rounded:"full",p:"2",boxShadow:"base",...s(t),children:[(0,l.jsx)(x,{...r({value:"monthly"}),children:(0,p._v)().monthly.name}),(0,l.jsx)(x,{...r({value:"yearly"}),children:(0,p._v)().yearly.name})]})})}},35628:(e,n,i)=>{"use strict";i.d(n,{i:()=>M});var l=i(31085),t=i(85146),r=i(62313),s=i(80532),d=i(61778),o=i(27670),a=i(35687),c=i(62230),u=i(25420),p=i(2219),g=i(80853),h=i(3040),x=i(24221),v=i(9104),m=i(95640),y=i(34747),j=i.n(y),f=i(14041),b=i(33854),E=i(23832),w=i(75660),C=i(78821),_=i(57882),I=i(92667),R=i(88679);let S=e=>{let{feature:n,type:i}=e;return(0,l.jsx)(t.ck,{display:"flex",alignItems:"center",fontWeight:"medium",fontSize:"sm",children:(0,l.jsxs)(r.z,{alignItems:"center",spacing:2,justifyContent:"center",children:["feature"===i?(0,l.jsx)(s.az,{bg:"gradient.brand.bg",as:"span",display:"inline-block",sx:{width:4,height:4,maskImage:"url(".concat("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tIUZvbnQgQXdlc29tZSBQcm8gNi42LjAgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UgKENvbW1lcmNpYWwgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI0NS44IDQ1LjlDMjQxLjkgMzcuNCAyMzMuNCAzMiAyMjQgMzJzLTE3LjkgNS40LTIxLjggMTMuOUwxNDIuNyAxNzQuNyAxMy45IDIzNC4yQzUuNCAyMzguMSAwIDI0Ni42IDAgMjU2czUuNCAxNy45IDEzLjkgMjEuOGwxMjguOCA1OS41IDU5LjUgMTI4LjhjMy45IDguNSAxMi40IDEzLjkgMjEuOCAxMy45czE3LjktNS40IDIxLjgtMTMuOWw1OS41LTEyOC44IDEyOC44LTU5LjVjOC41LTMuOSAxMy45LTEyLjQgMTMuOS0yMS44cy01LjQtMTcuOS0xMy45LTIxLjhMMzA1LjMgMTc0LjcgMjQ1LjggNDUuOXoiLz48L3N2Zz4=",")"),maskSize:"contain",maskRepeat:"no-repeat"}}):(0,l.jsx)(s.az,{color:"deepocean.800",children:(0,l.jsx)(x.g,{icon:h.e68})}),(0,l.jsxs)(s.az,{display:"inline-block",flex:1,children:[(0,l.jsx)(d.E,{as:"span",me:1,children:n.label}),n.infoTip&&(0,l.jsx)(v.qT,{label:n.infoTip,color:"gray.400"})]}),n.isBeta&&(0,l.jsx)(o.E,{colorScheme:"green",children:(0,l.jsx)(m.x6,{id:"YBt9YP"})})]})})},P=e=>{let{displayAsTwoLines:n}=e;return(0,l.jsxs)(a.B,{spacing:2,h:"80px",children:[(0,l.jsx)(s.az,{minH:"12",children:(0,l.jsxs)(a.B,{align:n?"flex-start":"flex-end",direction:n?"column":"row",children:[(0,l.jsx)(c.E,{height:"3em",width:"4.5em"}),(0,l.jsxs)(a.B,{direction:"row",children:[(0,l.jsx)(c.E,{height:".75em",width:"3em"}),(0,l.jsx)(c.E,{height:".75em",width:"3em"})]})]})}),(0,l.jsx)(c.E,{height:"1.5em",width:"10em"})]})},A=(0,f.memo)(e=>{let{isFree:n,selectedBillingCycleKey:i,productPrice:t,displayAsTwoLines:r}=e,s=(0,f.useMemo)(()=>(null==t?void 0:t.frequencyUnit)==="year"?(0,C.y7)(t):null,[t]);return(0,l.jsx)(d.E,{textAlign:r?"left":void 0,color:"gray.700",fontSize:"sm",children:n?(0,l.jsx)(m.x6,{id:"r0pThp"}):"monthly"===i?(0,l.jsx)(m.x6,{id:"aIkeAd"}):(null==s?void 0:s.discountedPrice)?(0,l.jsx)(m.x6,{id:"dl2uS6",values:{0:s.price,1:s.discountedPrice},components:{0:(0,l.jsx)(d.E,{as:"span",textDecoration:"line-through",me:1,color:"gray.400"})}}):(0,l.jsx)(m.x6,{id:"hRcVGy",values:{0:null==s?void 0:s.price}})})});A.displayName="BillingCycleDescription";let T=(0,f.memo)(e=>{let{isFree:n,productPrice:i,selectedBillingCycleKey:t,currencyOverride:r}=e,{isUserLoading:o}=(0,_.ur)(),c=100>(0,C.GP)(null==i?void 0:i.currency)||(0,C.VB)(null==i?void 0:i.currency);return(0,I.En)()&&!o&&(n||i)?(0,l.jsxs)(s.az,{children:[(0,l.jsx)(s.az,{minH:"12",children:(0,l.jsx)(a.B,{align:c?"flex-start":"center",direction:c?"column":"row",children:(0,l.jsx)(m.x6,{id:"dPKZZo",components:{0:(0,l.jsx)(d.E,{fontSize:"2.8rem",fontFamily:"heading",fontWeight:"semibold",lineHeight:"1",color:"deepocean.950"}),1:(0,l.jsx)(k,{isFree:n,productPrice:i,currencyOverride:r}),2:(0,l.jsx)(d.E,{variant:"brand",lineHeight:c?1:void 0,fontSize:"xs",pb:c?"1":void 0,color:"deepocean.950",fontWeight:"medium"})}})})}),(0,l.jsx)(A,{isFree:n,selectedBillingCycleKey:t,productPrice:i,displayAsTwoLines:c})]}):(0,l.jsx)(P,{displayAsTwoLines:c})});T.displayName="PriceAndBillingCycle";let k=(0,f.memo)(e=>{let{isFree:n,productPrice:i,currencyOverride:t}=e,{discountedPrice:r,price:s}=(0,C.vC)(i)||{};return n?(0,l.jsx)(l.Fragment,{children:(0,w.v)(0,{currency:t})}):r?(0,l.jsxs)(a.B,{direction:"row",alignItems:"center",children:[(0,l.jsx)(d.E,{color:"gray.400",fontSize:"2rem",textDecoration:"line-through",children:s}),(0,l.jsx)(d.E,{children:r})]}):(0,l.jsx)(l.Fragment,{children:s})});k.displayName="PricePerSeatPerMonth";let M=e=>{let{productKey:n,productPrice:i,isUpgrade:r=!0,isCurrentProduct:c,upgradeDisabled:h,onClick:x,isPublic:v,selectedBillingCycleKey:y,badgeLabel:f,isHighlighted:w,leftSideIsRounded:C,rightSideIsRounded:P,currencyOverride:A}=e,{user:k,isUserLoading:M}=(0,_.ur)(),N=(0,b.mt)(),z=(0,I.En)(),O="free"===n,L=!v&&(!x||O&&!c),D=(0,E.n)(R.Ok),{name:U,description:B,featureHeading:H,features:W,includesHeading:V,includes:F}=O?D.free:D[n];return(0,l.jsxs)(u.s,{scrollSnapAlign:"center",w:"auto",position:"relative",className:"product-details",direction:"column",...w?{bg:"white",mt:0,mb:-6,borderColor:"snowcap.100",borderWidth:"1px",borderStyle:"solid",boxShadow:"rgba(200, 220, 245, 0.6) 2px 2px 6px",zIndex:1}:{mt:6,bg:"rgba(235, 248, 255, 0.75)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px inset"},borderStartRadius:C?"3xl":"none",borderEndRadius:P?"3xl":"none",minW:{base:"80vw",md:"unset"},flex:1,children:[(0,l.jsxs)(a.B,{px:{base:4,lg:8},pt:4,spacing:2,position:"relative",borderBottom:"1px solid var(--chakra-colors-titanium-100)",bg:"white",borderTopStartRadius:C?"3xl":"none",borderTopEndRadius:P?"3xl":"none",children:[(0,l.jsxs)(a.B,{alignItems:"flex-start",spacing:0,children:[f&&(0,l.jsx)(s.az,{w:"100%",textAlign:"end",children:(0,l.jsx)(o.E,{display:"inline-block",textTransform:"unset",px:2,size:"sm",letterSpacing:"unset",colorScheme:w?"bordeaux":"flamingo",variant:w?"solid":void 0,children:f})}),(0,l.jsx)(p.D,{variant:"brand",position:"relative",fontWeight:"600",letterSpacing:"none",size:"xl",color:"deepocean.950",lineHeight:"1",children:U})]}),(0,l.jsx)(d.E,{fontSize:"sm",position:"relative",lineHeight:"1.3em",minHeight:"2.6em",mb:5,children:B})]}),(0,l.jsxs)(a.B,{px:{base:4,lg:8},pt:{base:4,md:6},pb:{base:4,md:8},spacing:"5",children:[(0,l.jsx)(T,{productPrice:i,isFree:O,selectedBillingCycleKey:y,currencyOverride:A}),L?(0,l.jsx)(l.Fragment,{}):v?(0,l.jsx)(g.$,{variant:O?"plain":"special",colorScheme:O?"gray":"trueblue",size:"lg",width:"100%",as:j(),href:k&&!M?"/":"/signup",textShadow:"none",children:(0,l.jsx)(m.x6,{id:"c3b0B0"})}):c?(0,l.jsx)(g.$,{as:s.az,variant:"plain",size:"lg",colorScheme:"gray",textShadow:"none",bg:"gray.100",width:"100%",isDisabled:!0,visibility:L?"hidden":"visible",children:(0,l.jsx)(m.x6,{id:"wSfp0e"})}):(0,l.jsx)(g.$,{variant:w?"special":"plain",size:"lg",width:"100%",onClick:x,visibility:L?"hidden":"visible",isDisabled:h,textShadow:"none",children:r?(0,l.jsx)(m.x6,{id:"pDhZ5t",values:{name:U}}):(0,l.jsx)(m.x6,{id:"Yu4iKr",values:{name:U}})}),(0,l.jsxs)(a.B,{spacing:"2",pb:4,children:[(0,l.jsx)(d.E,{fontWeight:"bold",color:"deepocean.950",children:H}),(0,l.jsx)(t.B8,{spacing:"2",children:W.filter(e=>{let{flag:n}=e;return!n||z&&N[n]}).map((e,n)=>(0,l.jsx)(S,{feature:e,type:"feature"},n))}),(0,l.jsx)(d.E,{fontWeight:"bold",mt:4,color:"deepocean.950",children:V}),(0,l.jsx)(t.B8,{spacing:"2",children:null==F?void 0:F.map((e,n)=>(0,l.jsx)(S,{feature:e,type:"include"},n))})]})]})]})}},29961:(e,n,i)=>{"use strict";i.d(n,{K:()=>u});var l=i(56154),t=i(14041),r=i(50877),s=i(69086),d=i(14691),o=i(31941);let a=e=>{var n,i;let{pro:l,plus:t}=e,{yearly:r}=l||{},{yearly:s}=t||{};return(null==r?void 0:null===(n=r.discount)||void 0===n?void 0:n.price)||(null==s?void 0:null===(i=s.discount)||void 0===i?void 0:i.price)};class c extends Error{}let u=e=>{var n,i,u,p,g,h,x,v;let{workspaceId:m,isPublic:y=!1,canManageWorkspace:j,selectedBillingCycleKey:f}=e,[b]=(0,r.wQm)(),[E,w]=(0,t.useState)(),[C,_]=(0,t.useState)(),I="monthly"===f?{pro:null==E?void 0:E.monthly,plus:null==C?void 0:C.monthly}:"yearly"===f?{pro:null==E?void 0:E.yearly,plus:null==C?void 0:C.yearly}:null,R=m?{pro:(0,o.wb)(m,[(null==I?void 0:null===(n=I.pro)||void 0===n?void 0:n.id)||""]),plus:(0,o.wb)(m,[(null==I?void 0:null===(i=I.plus)||void 0===i?void 0:i.id)||""])}:null,S=(null==E?void 0:null===(p=E.yearly)||void 0===p?void 0:null===(u=p.discount)||void 0===u?void 0:u.price)||(null==E?void 0:null===(g=E.yearly)||void 0===g?void 0:g.price)||0,P=Math.round(12*((null==E?void 0:null===(h=E.monthly)||void 0===h?void 0:h.price)||0)),A=(null==C?void 0:null===(x=C.yearly)||void 0===x?void 0:x.price)||0,T=Math.round(12*((null==C?void 0:null===(v=C.monthly)||void 0===v?void 0:v.price)||0));return(0,t.useEffect)(()=>{w(null);let e=m;e||(e=s.x.getItem(d.E.currentWorkspaceId)?JSON.parse(s.x.getItem(d.E.currentWorkspaceId)):void 0),b({variables:{workspaceId:e}}).then(e=>{var n;if(e.error)throw Error("GraphQL error: "+JSON.stringify(e.error));let i=null===(n=e.data)||void 0===n?void 0:n.products;if(!i||!i.length)throw l.Cp("[getProducts] No products returned",{extra:{data:e.data}}),new c("[getProducts] No products returned");let{proMonthlyProductPrice:t,proYearlyProductPrice:r,plusMonthlyProductPrice:s,plusYearlyProductPrice:d}=(0,o.kp)(i);w({monthly:t,yearly:r}),_({monthly:s,yearly:d})}).catch(e=>{e instanceof c||console.error("[getProducts] err",e)})},[m,b,j,y]),{selectedProductPrices:I,annualProDiscountPercentage:(P-S)/P,annualPlusDiscountPercentage:(T-A)/T,hasSpecialAnnualDiscount:a({pro:E,plus:C}),checkoutUrls:R,productPricesPlus:C,productPricesPro:E}}},31941:(e,n,i)=>{"use strict";i.d(n,{AY:()=>s,GE:()=>o,ZV:()=>c,kp:()=>a,wb:()=>d});var l=i(12327),t=i(73893),r=i(50877);let s=()=>"".concat(t.$.API_HOST,"/billing/portal"),d=(e,n)=>"".concat(t.$.API_HOST,"/billing/checkout/").concat(e,"/?ids=").concat(n.join(",")),o=e=>{let{url:n,title:i,w:l,h:t}=e,r=void 0!==window.screenLeft?window.screenLeft:window.screenX,s=void 0!==window.screenTop?window.screenTop:window.screenY,d=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,a=Math.min(l,.8*d),c=Math.min(t,.8*o);return window.open(n,i,"\n    scrollbars=yes,\n    width=".concat(a,", \n    height=").concat(c,", \n    top=").concat((o-c)/2+s,", \n    left=").concat((d-a)/2+r,"\n    "))},a=e=>{var n,i,l,t;let s=null==e?void 0:e.find(e=>"pro"===e.key),d=null==s?void 0:null===(n=s.prices)||void 0===n?void 0:n.find(e=>e.frequencyUnit===r.Vd7.Month),o=null==s?void 0:null===(i=s.prices)||void 0===i?void 0:i.find(e=>e.frequencyUnit===r.Vd7.Year),a=null==e?void 0:e.find(e=>"plus"===e.key);return{proMonthlyProductPrice:d,proYearlyProductPrice:o,plusMonthlyProductPrice:null==a?void 0:null===(l=a.prices)||void 0===l?void 0:l.find(e=>e.frequencyUnit===r.Vd7.Month),plusYearlyProductPrice:null==a?void 0:null===(t=a.prices)||void 0===t?void 0:t.find(e=>e.frequencyUnit===r.Vd7.Year)}},c=e=>l.Ru.number(e,{style:"percent",maximumFractionDigits:0})},63044:(e,n,i)=>{"use strict";i.d(n,{K:()=>eI});var l=i(31085),t=i(55276),r=i(14041),s=i(55640),d=i(26253),o=i(35002),a=i(83479),c=i(50923),u=i(30358),p=i(92405),g=i(18588),h=i(59742),x=i(97482),v=i(65446),m=i(18658),y=i(35687),j=i(61778),f=i(2219),b=i(25420),E=i(62313),w=i(40173),C=i(62230),_=i(80532),I=i(2600),R=i(43342),S=i(80853),P=i(90290),A=i(69648),T=i(84607),k=i(39761),M=i(3706),N=i(12917),z=i(20501),O=i(24221),L=i(95640),D=i(12327),U=i(71197),B=i(94072),H=i(56856),W=i(23071),V=i(39286),F=i(10628),Y=i(78821),G=i(56233),K=i(10458),q=i(36782),Z=i(42482),X=i(15576),Q=i(53013);let $=new(i(36832)).b;var J=i(32202),ee=i(34363),en=i(88865),ei=i(82680),el=i(74727),et=i(23832),er=i(60204),es=i(4013),ed=i(92947),eo=i(88679);let ea=()=>{let[e,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)("not-started"),[o,a]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[p,g]=(0,r.useState)(new es.c),{refetch:h}=(0,er.u)(),{subscription:x,refetchSubscription:v}=(0,F.I)(),[m]=(0,s.iaq)(),{isOpen:y,onOpen:j,onClose:f}=(0,t.j)({id:"confirm-change-plan-modal"}),b=(0,J.d)(),E=(0,r.useCallback)(()=>n(e=>!e),[]),w=(0,r.useCallback)(()=>{p.reject(),n(!1),f()},[f,p]),C=(0,r.useCallback)(async()=>new Promise((e,n)=>{if(!v){n();return}let i=0,t=setInterval(()=>{i++,v().then(r=>{let{data:s}=r,d=(0,Y.N_)(null==s?void 0:s.subscription);(null==d?void 0:d.key)===o?(clearInterval(t),e()):i>25&&(clearInterval(t),b({title:(0,l.jsx)(L.x6,{id:"7O1OBC"}),status:"error",duration:null}),n())})},500)}),[o,v,b]),_=(0,r.useCallback)(async()=>{let e=null==x?void 0:x.id,i=null==c?void 0:c.id;if(e&&i){d("in-progress");try{await m({variables:{id:e,productPriceId:i}}),d("verifying");let l=(0,ed.u)(2e3);await C(),await (null==h?void 0:h()),d("complete"),await l,p.resolve(!0),f(),n(!1)}catch(e){console.error(e),b({title:(0,l.jsx)(L.x6,{id:"7O1OBC"}),status:"error",duration:null})}d("not-started")}},[null==x?void 0:x.id,null==c?void 0:c.id,m,C,h,p,f,b]);return{showChangePlanModal:(0,r.useCallback)(e=>{let{productKey:n,productPrice:i}=e,l=new es.c;return g(l),a(n),u(i),j(),l.promise},[j]),isOpen:y,isChecked:e,changePlanStatus:i,newProduct:o,newProductPrice:c,onClose:w,onConfirmClick:_,onCancelClick:w,onCheckboxConfirm:E}},ec=e=>{let{isOpen:n,isChecked:i,changePlanStatus:t,newProduct:d,newProductPrice:o,onClose:a,onConfirmClick:c,onCancelClick:u,onCheckboxConfirm:p}=e,{subscription:f}=(0,F.I)(),E=(0,r.useCallback)(()=>(0,Y.On)(f,o),[f,o]),{newTotalPrice:w,newPerSeatPrice:C,seatCount:I,proratedUpgradePrice:R,proratedDays:P}=(0,et.n)(E,[f]),A="pro"===d;if(!d||!n||!f||!A)return null;let T=(0,eo.Ok)()[d].name,k=(null==o?void 0:o.frequencyUnit)===s.Vd7.Month?"month":"year",M=A?(0,l.jsx)(L.x6,{id:"0OWovg",values:{newPerSeatPrice:C,frequencyDisplay:k,productDisplay:T,0:I&&I>1?(0,l.jsx)(j.E,{as:"span",fontStyle:"italic",children:" (".concat(w," per ").concat(k," for ").concat(I," users) ")}):" "},components:{0:(0,l.jsx)("strong",{}),1:(0,l.jsx)("br",{})}}):null;return(0,l.jsxs)(g.aF,{isOpen:n,onClose:a,trapFocus:!1,size:"xl",children:[(0,l.jsx)(h.m,{}),(0,l.jsxs)(x.$,{children:[(0,l.jsx)(ee.r,{children:(0,l.jsx)(L.x6,{id:"LfXR/E",values:{productDisplay:T}})}),(0,l.jsx)(v.s,{}),(0,l.jsx)(m.c,{children:["verifying","complete"].includes(t)?(0,l.jsx)(eu,{status:t}):(0,l.jsxs)(y.B,{spacing:4,children:[(0,l.jsx)(j.E,{as:"span",children:A?(0,l.jsx)(L.x6,{id:"fBpU1y",values:{proratedUpgradePrice:R,proratedDays:P}}):(0,l.jsx)(L.x6,{id:"/Ka6eY",values:{productDisplay:T}})}),(0,l.jsxs)(b.s,{gap:3,alignItems:"start",children:[(0,l.jsx)(en.S,{mt:1,isChecked:i,onChange:p}),(0,l.jsx)(j.E,{cursor:"pointer",onClick:p,children:M})]}),(0,l.jsx)(_.az,{fontSize:"sm",bgColor:"gray.200",p:4,borderRadius:"md",children:(0,l.jsx)(j.E,{children:(0,l.jsx)(L.x6,{id:"qm/kgC"})})})]})}),["not-started","in-progress"].includes(t)&&(0,l.jsx)(ei.j,{children:(0,l.jsxs)(el.e,{children:[(0,l.jsx)(S.$,{variant:"ghost",colorScheme:"gray",onClick:u,children:(0,l.jsx)(L.x6,{id:"dEgA5A"})}),(0,l.jsx)(S.$,{variant:"solid",onClick:c,isLoading:"in-progress"===t,isDisabled:!i,children:(0,l.jsx)(L.x6,{id:"LfXR/E",values:{productDisplay:T}})})]})})]})]})},eu=e=>{let{status:n}=e;return"in-progress"===n?(0,l.jsxs)(I.T,{py:12,spacing:4,children:[(0,l.jsx)(R.y,{size:"lg"}),(0,l.jsx)(f.D,{size:"md",children:(0,l.jsx)(L.x6,{id:"it0Uj0"})}),(0,l.jsx)(j.E,{children:(0,l.jsx)(L.x6,{id:"+ofCyi"})})]}):"verifying"===n?(0,l.jsxs)(I.T,{py:8,spacing:10,children:[(0,l.jsx)(_.az,{color:"green.500",children:(0,l.jsx)(O.g,{icon:N.QRE,size:"4x"})}),(0,l.jsx)(f.D,{size:"md",children:(0,l.jsx)(L.x6,{id:"3TqbhV"})})]}):null};var ep=i(81106),eg=i(35628),eh=i(29961),ex=i(31941);let ev=()=>(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsx)("span",{role:"img","aria-label":D.Ru._({id:"y1ypMV"}),children:"⭐️"})," ",(0,l.jsx)(L.x6,{id:"y1ypMV"})]}),em=e=>{let{currentProduct:n}=e,i="pro"===n?null:"plus"===n?(0,l.jsx)(L.x6,{id:"A+zoTy"}):(0,l.jsx)(ev,{}),t="pro"===n?(0,l.jsx)(L.x6,{id:"A+zoTy"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{role:"img","aria-label":D.Ru._({id:"MMfapV"}),children:"\uD83D\uDCAA"})," ",(0,l.jsx)(L.x6,{id:"MMfapV"})]});return{plusLabel:i,plusIsHighlighted:"pro"!==n&&"plus"!==n,proLabel:t,proIsHighlighted:"plus"===n||"pro"===n}},ey=(e,n)=>e&&e*(null!=n?n:1),ej=e=>{let{insufficientCreditsWarning:n,isUpsellModalOpen:i,closeUpsellModal:t}=e,s=(0,q.f)(),d=(0,K.st)(),a=(0,o.u)("upsellUXEnabled_Plus"),c=(0,o.u)("defaultAnnualBilling"),p=(0,X.l)(),C=(0,o.u)("monthlyBillingEnabled"),_=(0,o.u)("plus-credits"),I=(0,u.CX)(),{subscription:R,product:S}=(0,F.I)(),{user:P,refetch:A}=(0,u.ur)(),{frequency:T}=(0,Y.$Z)(R),k=(0,o.u)("changePlanModal"),[M,N]=(0,r.useState)(c?"yearly":"monthly");(0,r.useEffect)(()=>{T&&N("month"===T?"monthly":"yearly")},[T]);let[z,O]=(0,r.useState)(!1),D=(0,r.useRef)(!1),B=(0,r.useRef)(!1),W=(0,Y.A4)(s),J=null==s?void 0:s.id,{selectedProductPrices:ee,annualProDiscountPercentage:en,hasSpecialAnnualDiscount:ei,checkoutUrls:el,productPricesPlus:et,productPricesPro:er}=(0,eh.K)({workspaceId:J,canManageWorkspace:I,selectedBillingCycleKey:M}),es=a||"plus"===S,ed=I&&el,eo=S&&el&&(0,Z.ZA)(R,P,k,I),eu=!ed&&!eo,{credits:ev}=(0,U.B9)(),ej=(0,Y.ZJ)(R),eC=!S&&C,e_=!I;(0,r.useEffect)(()=>{if(S||!z)return;let e=setInterval(()=>{null==A||A()},1e3);return null==A||A(),()=>{clearInterval(e)}},[z,S,A]),(0,r.useEffect)(()=>{i||(O(!1),N(c?"yearly":"monthly"))},[d,c,i]),(0,r.useEffect)(()=>{var e,n,l,t;if(!D.current){if(S||!I||!i||!(null==ee?void 0:ee.pro)||!(null==ee?void 0:ee.plus))return;D.current=!0,null==d||d.track(K.VV.GAMMA_PRO_UPSELL_PRODUCTS_VIEWED,{price:null===(e=ee.pro)||void 0===e?void 0:e.price,price_plus:null==ee?void 0:null===(n=ee.plus)||void 0===n?void 0:n.price,productPricesPlus:et,productPricesPro:er,currentProduct:W,products:["pro","plus"],currency:null===(l=ee.pro)||void 0===l?void 0:l.currency,frequency:null===(t=ee.pro)||void 0===t?void 0:t.frequencyUnit,plus_credits:_,default_annual:c})}},[i,S,W,I,d,ee,_,et,er,c]);let eI=(0,r.useCallback)(e=>{var n,i,l,t;N(e),null==d||d.track(K.VV.GAMMA_PRO_BILLING_CYCLE_CLICK,{price:null==ee?void 0:null===(n=ee.pro)||void 0===n?void 0:n.price,price_plus:null==ee?void 0:null===(i=ee.plus)||void 0===i?void 0:i.price,products:["pro","plus"],currency:null==ee?void 0:null===(l=ee.pro)||void 0===l?void 0:l.currency,frequency:null==ee?void 0:null===(t=ee.pro)||void 0===t?void 0:t.frequencyUnit,billingCycle:e,productPricesPlus:et,productPricesPro:er})},[d,ee,et,er]),{showChangePlanModal:eR,...eS}=ea(),eP=(0,r.useCallback)(e=>()=>{let n="plus"===e?null==ee?void 0:ee.plus:null==ee?void 0:ee.pro;if(S){if(!n||"free"===e)return;"pro"===e&&k?eR({productKey:e,productPrice:n}).then(t).catch(e=>{console.error("Error changing plan",e)}):window.open((0,ex.AY)(),"_blank");return}if(!el)return;let i=el[e],l=ey(null==n?void 0:n.price,null==s?void 0:s.memberCount),r={price:null==n?void 0:n.price,productPriceId:null==n?void 0:n.id,product:e,currency:null==n?void 0:n.currency,frequency:null==n?void 0:n.frequencyUnit,plus_credits:_,productPricesPlus:et,productPricesPro:er,workspaceId:J,totalPrice:l};null==d||d.track(K.VV.CHECKOUT_STARTED,r),(0,G.Zv)(r);let o=(0,ex.GE)({url:i,title:"Gamma",w:1200,h:1e3});window.addEventListener("message",i=>{if(i.data.type===Q.g){if(B.current)return;O(!0),setTimeout(()=>{null==o||o.close()},100);let i={price:null==n?void 0:n.price,productPriceId:null==n?void 0:n.id,product:e,currency:null==n?void 0:n.currency,frequency:null==n?void 0:n.frequencyUnit,plus_credits:_,workspaceId:J,totalPrice:l};if(!(null==B?void 0:B.current)){null==d||d.track(K.VV.PURCHASE_COMPLETE,i);let e={...i};(null==n?void 0:n.price)&&(e.price=n.price/(0,Y.GP)(n.currency),l&&(e.value=l/(0,Y.GP)(n.currency))),(0,H.MX)(e),(0,G.Ue)(i),B.current=!0}}},!1)},[null==ee?void 0:ee.plus,null==ee?void 0:ee.pro,S,el,J,d,_,et,er,k,eR,t,null==s?void 0:s.memberCount]);(0,r.useEffect)(()=>$.on("openUpgradeToProModal",eP("pro")),[eP]);let{plusLabel:eA,plusIsHighlighted:eT,proLabel:ek,proIsHighlighted:eM}=p?em({currentProduct:W}):{plusLabel:null,plusIsHighlighted:!1,proLabel:null,proIsHighlighted:!1};return(0,l.jsxs)(g.aF,{isOpen:i,trapFocus:!1,size:z||n?"3xl":"5xl",onClose:t,closeOnEsc:!z,closeOnOverlayClick:!z,children:[(0,l.jsx)(h.m,{}),(0,l.jsxs)(x.$,{m:{base:"0",lg:"4"},bg:"gray.100",borderRadius:"xl","data-id":"upsell-modal",children:[(0,l.jsx)(v.s,{}),ee?z?(0,l.jsx)(eb,{isVerifying:!S,product:W,onClick:t}):(0,l.jsx)(m.c,{p:{base:"4",lg:"6"},children:(0,l.jsxs)(y.B,{spacing:4,children:[(0,l.jsxs)(y.B,{flex:1,gap:1.5,children:[n&&(0,l.jsx)(j.E,{color:"red.600",fontSize:{base:"lg",lg:"xl"},fontWeight:"600",textAlign:"center",children:(0,l.jsx)(L.x6,{id:"72xmIi"})}),(0,l.jsx)(f.D,{variant:"fancy",textAlign:"center",fontSize:"4xl",children:n?(0,l.jsx)(L.x6,{id:"q32zjK",values:{PRO_PROPER_NOUN:V.Kc}}):(0,l.jsx)(L.x6,{id:"k51VUg",values:{GAMMA_PROPER_NOUN:V.On}})}),(0,l.jsx)(j.E,{fontSize:{base:"md",lg:"lg"},textAlign:"center",color:"gray.700",children:n&&(0,l.jsx)(L.x6,{id:"0UIIIw",values:{credits:ev}})})]}),e_&&(0,l.jsx)(eE,{}),eC&&(0,l.jsx)(ep.zn,{selectedBillingCycleKey:M,setSelectedBillingCycleKey:eI}),(0,l.jsxs)(y.B,{w:"100%",bgColor:"green.100",p:2,textAlign:"center",align:"center",justify:"center",gap:0,children:[ei&&(0,l.jsxs)(j.E,{color:"text.success",fontWeight:"bold",children:[(0,l.jsx)("span",{role:"img","aria-label":"books",children:"\uD83D\uDCDA"})," ",(0,l.jsx)(L.x6,{id:"qagJ77"})," ",(0,l.jsx)("span",{role:"img","aria-label":"books",children:"\uD83D\uDCDA"})]}),(0,l.jsxs)(j.E,{color:"text.success",fontWeight:ei?"medium":"bold",children:[(0,l.jsx)(L.x6,{id:"u5lEQO",values:{0:(0,ex.ZV)(Math.floor(100*en)/100)}})," ",(0,l.jsx)("span",{role:"img","aria-label":"sparkle",children:"✨"})]})]}),(0,l.jsx)(b.s,{pt:4,pb:8,px:8,mx:-5,overflow:{base:"auto",md:"hidden"},sx:{"scroll-snap-type":"x mandatory"},children:(0,l.jsxs)(E.z,{flex:1,h:"100%",align:"stretch",spacing:0,scrollSnapType:"x mandatory",pb:"6",children:[es&&(0,l.jsx)(eg.i,{productKey:"plus",productPrice:"plus"===S?ej:ee.plus,isUpgrade:!S,isCurrentProduct:"plus"===S,upgradeDisabled:eu||"plus"===S,onClick:eP("plus"),selectedBillingCycleKey:M,badgeLabel:eA,isHighlighted:eT,leftSideIsRounded:!0,rightSideIsRounded:!!eT}),(0,l.jsx)(eg.i,{productKey:"pro",productPrice:"pro"===S?ej:ee.pro,isCurrentProduct:"pro"===S,isUpgrade:S?"pro"!==S:void 0,upgradeDisabled:eu||"pro"===S,onClick:eP("pro"),selectedBillingCycleKey:M,badgeLabel:ek,isHighlighted:eM,rightSideIsRounded:!0,leftSideIsRounded:!!eM})]})}),(0,l.jsx)(ew,{})]})}):(0,l.jsx)(ef,{}),(0,l.jsx)(w.Z,{children:(0,l.jsx)(ec,{...eS})})]})]})},ef=()=>(0,l.jsxs)(m.c,{children:[(0,l.jsxs)(y.B,{w:"100%",px:10,pt:10,children:[(0,l.jsx)(C.E,{height:"60px"}),(0,l.jsx)(C.E,{height:"30px"})]}),(0,l.jsxs)(b.s,{mt:"8",rounded:"xl",px:10,gap:"8",children:[(0,l.jsxs)(y.B,{w:"100%",spacing:4,children:[(0,l.jsx)(C.E,{height:"300px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"})]}),(0,l.jsx)(_.az,{w:{base:"unset",lg:"1px"},minH:"0",h:{base:"1px",lg:"unset"},bg:"gray.100"}),(0,l.jsxs)(y.B,{w:"100%",spacing:4,children:[(0,l.jsx)(C.E,{height:"300px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"})]})]})]}),eb=(0,B.r)(e=>{let{isVerifying:n=!1,product:i,onClick:t}=e,r=i?(0,eo.Ok)()[i].name:"";return(0,l.jsx)(m.c,{children:n?(0,l.jsxs)(I.T,{py:12,spacing:4,children:[(0,l.jsx)(R.y,{size:"lg"}),(0,l.jsx)(f.D,{variant:"brand",letterSpacing:"tight",size:"lg",fontWeight:"semibold",children:(0,l.jsx)(L.x6,{id:"kzd5yt"})}),(0,l.jsx)(j.E,{children:(0,l.jsx)(L.x6,{id:"Nwo9pM"})})]}):(0,l.jsxs)(I.T,{py:8,spacing:10,children:[(0,l.jsx)(_.az,{color:"green.500",children:(0,l.jsx)(O.g,{icon:N.QRE,size:"4x"})}),(0,l.jsx)(f.D,{variant:"brand",letterSpacing:"tight",size:"lg",fontWeight:"semibold",children:(0,l.jsx)(L.x6,{id:"7Xmwpp"})}),(0,l.jsx)(S.$,{size:"lg",variant:"solid",onClick:t,children:(0,l.jsx)(L.x6,{id:"SGsdhu",values:{GAMMA_PROPER_NOUN:V.On,productName:r}})})]})})},!1),eE=()=>(0,l.jsxs)(P.F,{status:"warning",children:[(0,l.jsx)(A._,{}),(0,l.jsxs)(y.B,{spacing:"0.5",children:[(0,l.jsx)(T.X,{fontSize:"lg",children:(0,l.jsx)(L.x6,{id:"4Y1tbj"})}),(0,l.jsx)(k.T,{children:(0,l.jsx)(L.x6,{id:"B18q9c"})})]})]}),ew=()=>(0,l.jsxs)(y.B,{spacing:"4",children:[(0,l.jsxs)(j.E,{fontSize:"sm",color:"gray.600",textAlign:"center",children:[(0,l.jsx)(L.x6,{id:"ZdTirz",components:{0:(0,l.jsx)(O.g,{icon:z.DW4,fixedWidth:!0})}})," ","\xb7"," ",(0,l.jsx)(L.x6,{id:"u5BmMM",components:{0:(0,l.jsx)(O.g,{icon:z.gSF,fixedWidth:!0})}})," ","\xb7"," ",(0,l.jsx)(L.x6,{id:"21GX3a",components:{0:(0,l.jsx)(O.g,{icon:z.qcK,fixedWidth:!0})}})]}),(0,l.jsx)(j.E,{fontSize:"sm",color:"gray.600",textAlign:"center",children:(0,l.jsx)(L.x6,{id:"XdzNIh",components:{0:(0,l.jsx)(M.N,{href:W.C.UPGRADE_TO_PAID,isExternal:!0,textDecoration:"underline",color:"gray.800",textAlign:"center"})}})})]});var eC=i(68984);let e_="get-gamma-pro",eI=e=>{var n,i;let{children:g}=e,{currentWorkspace:h,isUserLoading:x}=(0,u.ur)(),[v,m]=(0,r.useState)(!1),y=(0,c.st)(),j=(0,o.u)("upsellUXEnabled_Pro"),{data:f,refetch:b}=(0,s.wJf)({variables:{workspaceId:null==h?void 0:h.id,includeExpired:!0},skip:!(null==h?void 0:h.id)}),E=null==f?void 0:f.subscription;(0,d.yf)({subscription:E,workspace:h,autoLaunch:!0});let{data:w}=(0,s.sdf)({variables:{workspaceId:null==h?void 0:h.id},skip:!h}),C=null==w?void 0:null===(n=w.products)||void 0===n?void 0:n.find(e=>"pro"===e.key),_=null==C?void 0:null===(i=C.prices)||void 0===i?void 0:i.find(e=>e.frequencyUnit===s.Vd7.Year),I=(0,Y.A4)(h),{isOpen:R,onOpen:S,onClose:P}=(0,t.j)({id:"upsell-modal"}),A=(0,r.useRef)(null),T=(0,r.useCallback)(e=>{let{onOpenCallback:n,onCloseCallback:i,insufficientCreditsWarning:l,segmentEvent:t,eventProperties:r}=e;j&&(m(!!l),null==n||n(),S(),null==y||y.track(t,r),A.current=i||null)},[y,S,j]),k=(0,r.useCallback)(()=>{var e;null==A||null===(e=A.current)||void 0===e||e.call(A),P(),A.current=null,m(!1)},[P]),[M,N]=(0,r.useState)({openUpsellModal:T,product:I,subscription:E,proYearlyProductPrice:_});return(0,r.useEffect)(()=>{"true"!==(0,p.sF)()[e_]||x||!h||(S(),(0,a.g5)({query:{...(0,p.sF)(),[e_]:void 0},emitChange:!1}))},[S,h,x]),(0,r.useEffect)(()=>{N({openUpsellModal:T,refetchSubscription:b,product:I,subscription:E,proYearlyProductPrice:_})},[T,I,E,_,b]),(0,l.jsxs)(eC.H.Provider,{value:M,children:[g,R&&(0,l.jsx)(ej,{insufficientCreditsWarning:v,isUpsellModalOpen:R,closeUpsellModal:k}),(0,l.jsx)(d.XE,{})]})}},36782:(e,n,i)=>{"use strict";i.d(n,{f:()=>r});var l=i(50877),t=i(57882);let r=e=>{var n;let{currentWorkspace:i}=(0,t.ur)(),{data:r}=(0,l.Vl$)({variables:{id:null!==(n=null!=e?e:null==i?void 0:i.id)&&void 0!==n?n:""},skip:!e&&!(null==i?void 0:i.id)});return e?null==r?void 0:r.workspace:{...i,...null==r?void 0:r.workspace}}},42482:(e,n,i)=>{"use strict";i.d(n,{MW:()=>s,X5:()=>c,ZA:()=>r,_t:()=>o,de:()=>d,jg:()=>t,nl:()=>p,ot:()=>u,tq:()=>a});var l=i(31941);let t=(e,n)=>"".concat(null!=e?e:""," ").concat(n?"(".concat(n,")"):""),r=(e,n,i,l)=>{var t;return i?l:(null==e?void 0:null===(t=e.createdByUser)||void 0===t?void 0:t.id)===(null==n?void 0:n.id)},s=(e,n)=>e&&n&&r(e,n)?(0,l.AY)():null,d=e=>(null==e?void 0:e.nextBillingTime)||"",o=e=>!!(null==e?void 0:e.cancellationRequestedTime),a=e=>(null==e?void 0:e.createdTime)||"",c=e=>{var n;return!!(null==e?void 0:null===(n=e.products)||void 0===n?void 0:n.length)},u=e=>!!(null==e?void 0:e.expirationTime)&&new Date>new Date(null==e?void 0:e.expirationTime),p=e=>{if(!(null==e?void 0:e.createdByUser))return"";let{displayName:n,email:i}=e.createdByUser;return"".concat(n," (").concat(i,")")}},39236:(e,n,i)=>{"use strict";i.d(n,{I:()=>c});var l=i(31085),t=i(66996),r=i.n(t),s=i(35002),d=i(44507),o=i(92667),a=i(30503);let c=()=>{let e=(0,s.u)("zendesk")&&!(0,d.rA)()&&!(0,a.NF)();return(0,o.En)()&&e?(0,l.jsx)(r(),{id:"ze-snippet",src:"https://static.zdassets.com/ekr/snippet.js?key=a0bef73f-af13-4ae9-ad67-25e2355724db",async:!0,defer:!0}):null}},23472:()=>{},98701:()=>{}}]);
//# sourceMappingURL=9514-cc903b802500e5e6.js.map